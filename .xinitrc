#!/bin/sh

# GNOME Keyring ----------------------------------------------------------------
eval $(/usr/bin/gnome-keyring-daemon --start --components=pkcs11,secrets,ssh,gpg)
export SSH_AUTH_SOCK
# ------------------------------------------------------------------------------

# Main RSystem -----------------------------------------------------------------
if [ -d /etc/X11/xinit/xinitrc.d ] ; then
 for f in /etc/X11/xinit/xinitrc.d/?*.sh ; do
  [ -x "$f" ] && . "$f"
 done
 unset f
fi
# ------------------------------------------------------------------------------

# Make dbus --------------------------------------------------------------------
if which dbus-launch >/dev/null && test -z "$DBUS_SESSION_BUS_ADDRESS";
then
	eval "$(dbus-launch --sh-syntax --exit-with-session)"
fi
# ------------------------------------------------------------------------------

# Load .profile ----------------------------------------------------------------
[ -f ~/.profile ] && . ~/.profile
# ------------------------------------------------------------------------------

# Keybind ----------------------------------------------------------------------
sxhkd &
# ------------------------------------------------------------------------------

# Pcmanfm | Dbus ---------------------------------------------------------------
pcmanfm -d &
# ------------------------------------------------------------------------------

# Screen Saver -----------------------------------------------------------------
xscreensaver &
# ------------------------------------------------------------------------------

# Dunst | Notification ---------------------------------------------------------
dbus-launch dunst &
# ------------------------------------------------------------------------------

# Puseaudio | Start ------------------------------------------------------------
dbus-launch pulseaudio --start &
# ------------------------------------------------------------------------------

# Execute WM as Bspwm ----------------------------------------------------------
exec dbus-launch --exit-with-x11 bspwm &
# ------------------------------------------------------------------------------
